 一、数据库的事务

数据库的ACID（酸）性

1.原子性（Atomic）（Atomicity)
事务必须是原子工作单元；对于其数据修改，要么全都执行，
要么全都不执行。

2.一致性（Consistent）(Consistency)
事务在完成时，必须使所有的数据都保持一致状态。

3.隔离性（Insulation）(Isolation)
由并发事务所作的修改必须与任何其它并发事务所作的修改隔离。

4.持久性（Duration）(Durability）
事务完成之后，它对于系统的影响是永久性的。


二、事务的隔离级别
1.Read Uncommitted(读未提交的)：允许事务读取未被提交的变更，
脏读和不可重复读、幻读都会出现。

2.Read Committed(读已提交的):允许事务读取已经被提交的变更，
可以避免脏读，但不可重复读和幻读仍然会出现。

4.Repeatable Read(可以重复读):确保事务可以多次从一个字段中
读取到的是相同的值
可以避免脏读和不可重复读。幻读仍然存在。

8.序列化（Serializable）：确保事务可以从一个表中读取相同的
行，在这个事务期间，禁止其他事务对这个表进行增删改的操作。
所有的并发问题都可以避免。但是性能十分低下。


可能会导致的问题：
脏读：对于两个事务T1、T2.T1读取了已经被T2更新了但还没有提交
的字段，这个时候一旦T2回滚了，那么T1的读取内容就是无效的

必须要解决的是脏读。

不可重复读（Non-repeatable Reads）：一个事务对同一行
数据重复读取两次，但是却得到了不同的结果。

 幻读（Phantom Reads）：事务在操作过程中进行两次查询，
 第二次查询的结果包含了第一次查询中未出现的数据或者缺少
 了第一次查询中出现的数据（这里并不要求两次查询的SQL语句相同）。这是因为在两次查询过程中有另外一个事务插入数据造成的。



mysql默认的事务隔离级别:Repeatable Read
Oracle默认的事务隔离级别：Read Committed

Oracle只支持二种事务隔离级别：Read Committed，Serializable
mysql支持四种事务隔离级别



